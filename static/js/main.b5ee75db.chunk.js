(this.webpackJsonpmemorycards=this.webpackJsonpmemorycards||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(7),s=n.n(a),o=(n(17),n(18),n(2)),i=(n(19),n(20),n.p+"static/media/logo.916f1d23.png"),l=n(0);var u=function(e){var t=Object(c.useState)(0),n=Object(o.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(3===e.timePerCard),u=Object(o.a)(s,2),d=u[0],j=u[1],m=Object(c.useState)(0),b=Object(o.a)(m,2),h=b[0],O=b[1];return Object(l.jsxs)("div",{className:"menu",animation:r,children:[Object(l.jsx)("img",{className:"logo",alt:"game logo",src:i}),Object(l.jsx)("h1",{className:"game-title",children:"Memory Game"}),Object(l.jsx)("button",{onClick:function(t){e.resetCurrentScore(),a(1),document.querySelector(".menu").onanimationend=function(){return e.startGame(t)}},className:"play-button",children:"Play!"}),Object(l.jsxs)("p",{className:"hi-score",children:["High Score: ",e.highScore]}),Object(l.jsxs)("label",{className:"enable-hard",children:[Object(l.jsx)("input",{type:"checkbox",onChange:function(t){e.toggleHardMode(t),O((function(e){return 1===e?0:1})),j(!0)},checked:d}),"Enable Hard Mode"]}),Object(l.jsxs)("p",{className:"difficulty-caption",animation:h,children:["You'll get ",Object(l.jsxs)("span",{className:"seconds",children:[e.timePerCard," seconds"]})," per card."]})]})},d=n(12),j=n(6),m=n.n(j),b=n(8);var h=function(){return Object(l.jsxs)("div",{className:"welcome-dialog",children:[Object(l.jsx)("h1",{className:"hook",children:"How good is your memory?"}),Object(l.jsx)("p",{children:"The goal of this game is to select all the shown cards once. Clicking on a card more than once will result in game over."}),Object(l.jsx)("p",{children:"Good luck!"})]})};n(23);var O=function(e){var t=e.src.split("/"),n=t[t.length-1].split(/[0-9]/)[0];return n=n.replace("-"," "),Object(l.jsxs)("figure",{"data-key":e.id,className:"memory-card",onClick:e.onClick,children:[Object(l.jsx)("img",{className:"memory-card-image",src:e.src,alt:""}),Object(l.jsx)("figcaption",{className:"memory-card-label",children:n})]})},f=(n(24),n(9)),v=n(10),g=function(){function e(){Object(f.a)(this,e)}return Object(v.a)(e,null,[{key:"createElement",value:function(t,n){for(var c=document.createElement(t),r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];return e.addClassesToElement.apply(e,[c,n].concat(a)),c}},{key:"addClassesToElement",value:function(e,t){for(var n,c=arguments.length,r=new Array(c>2?c-2:0),a=2;a<c;a++)r[a-2]=arguments[a];r.push(t),(n=e.classList).add.apply(n,r)}},{key:"triggerAnimation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.classList.add(t),e.addEventListener("animationend",(function(){e.classList.remove(t),null!==n&&n()}),{once:!0})}},{key:"getMatchingParent",value:function(e,t){for(;!e.matches(t);)if((e=e.parentNode).matches("html"))return null;return e}},{key:"removeAllChildren",value:function(e){if(0!==e.childElementCount)for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"toSentence",value:function(e){return e[0].toUpperCase()+e.slice(1)+"."}},{key:"toggleSelected",value:function(t,n){var c=e.getMatchingParent(t.currentTarget,n).querySelector(".selected");c.classList.remove("selected"),c.removeAttribute("disabled"),t.currentTarget.classList.add("selected"),t.currentTarget.setAttribute("disabled","true")}}]),e}();function p(e){var t=["biryani","burger","butter-chicken","dessert","dosa","idly","pasta","pizza","rice","samosa"];console.log("= Loading Screen =");var n=Object(c.useState)(!1),r=Object(o.a)(n,2),a=r[0],s=r[1];function i(){return(i=Object(b.a)(m.a.mark((function t(n){var c,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.map((function(e){return new Promise((function(t,n){var c=new Image;c.onload=function(){t(c)},c.onerror=function(){n(new Error("The memory card image could not be fetched."))},c.src=e}))})),t.prev=1,t.next=4,Promise.all(c);case 4:return r=t.sent,t.abrupt("return",r.map((function(t,n){return Object(l.jsx)(O,{id:n,src:t.src,onClick:e.memoryCardOnClick},t.src)})));case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){var n=function(){for(var n=[],c=0;c<e.numCardsForLevel;){var r=Math.floor(Math.random()*t.length);n.includes(t[r])||(n.push(t[r]),c++)}return n}();Promise.all(n.map((function(e){return console.log(e),fetch("https://foodish-api.herokuapp.com/api/images/".concat(e,"/")).then((function(e){return e.json()}))}))).then((function(t){var n=t.map((function(e){return e.image}));console.log(n),function(e){return i.apply(this,arguments)}(n).then((function(t){e.passBackMemoryCards(t),s(!0)}))}))}),[]),Object(l.jsxs)("div",{className:"loading dialog-menu",children:[0===e.currentLevel&&Object(l.jsx)(h,{numLevels:e.numLevels}),a?Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{children:["Level ",e.currentLevel+1," ready."]}),Object(l.jsx)("p",{className:"checkmark",children:"\u2705"})]}):Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{children:[" Getting Level ",e.currentLevel+1," ready... "]}),Object(l.jsx)("p",{className:"hourglass rotating",children:"\u231b"})]}),Object(l.jsx)("button",{className:"continue-button",onClick:e.playerReady,disabled:!a,children:"Proceed"})]})}g.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var x=r.a.memo(p,(function(e,t){return e.currentLevel===t.currentLevel}));var y=function(e){var t=Object(c.useRef)(e),n=Object(c.useState)(!1),r=Object(o.a)(n,2),a=r[1];function s(e){Object.is(t.current,e)||(t.current=e,a((function(e){return!e})))}return[t,s]};var N=function(e){var t=Object(c.useState)(e.timeleft),n=Object(o.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(!1),i=Object(o.a)(s,2),u=i[0],d=i[1],j=Object(c.useRef)(null);return Object(c.useEffect)((function(){return j.current=setInterval((function(){a((function(e){if(e>0)return console.log("timer: "+(e-1)),e-1;d(!0)}))}),1e3),function(){console.log("ending timer..."),clearInterval(j.current)}}),[]),Object(c.useEffect)((function(){!0===u&&e.endGame()}),[u]),e.playerWon.current&&(console.log("ending timer in body..."),console.log(e.playerWon.current),clearInterval(j.current)),Object(l.jsx)("div",{className:"timer",children:Object(l.jsx)("p",{className:"time-left",children:r})})},S={MENU:"menu",PLAYING:"playing",GAMEOVER_WIN:"gameover_win",GAMEOVER_LOSE:"gameover_lose"},C=n(11);var k=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(0),i=Object(o.a)(s,2),u=i[0],j=i[1],m=Object(c.useState)(0),b=Object(o.a)(m,2),h=b[0],O=b[1],f=Object(c.useState)([]),v=Object(o.a)(f,2),p=v[0],k=v[1],E=y([]),w=Object(o.a)(E,2),L=w[0],M=w[1],G=y(!1),P=Object(o.a)(G,2),A=P[0],I=P[1],R=Object(c.useState)(e.timePerCard*e.levels[u]),Y=Object(o.a)(R,2),T=Y[0],z=Y[1],U=Object(c.useState)(0),_=Object(o.a)(U,2),B=_[0],H=_[1];if(Object(c.useEffect)((function(){h>=e.levels[u]&&I(!0)})),!r)return Object(l.jsx)(x,{currentLevel:u,numCardsForLevel:e.levels[u],playerReady:function(){a(!0)},passBackMemoryCards:function(e){k(e);var t=e.map((function(e,t){return{id:e.props.id,pressed:!1}}));M(t)},memoryCardOnClick:function(t){if(!A.current){var n=g.getMatchingParent(t.target,".memory-card"),c=parseInt(n.dataset.key),r=!1,a=L.current.map((function(t,n){return t.id===c&&(t.pressed?r=!0:(t.pressed=!0,O((function(e){return e+1})),e.setCurrentScore((function(e){return e+1})),function(){H(1);var e=function(){return H(0)};document.querySelector(".point-counter").addEventListener("animationend",e)}())),t}));r?W():(M(a),g.triggerAnimation(n,"blow-up",(function(){k((function(e){for(var t,n=Object(d.a)(e),c=e.length;0!==c;){t=Math.floor(Math.random()*c),console.log(t),c--;var r=[n[t],n[c]];n[c]=r[0],n[t]=r[1]}return n}))})))}}});var V=null;function W(){e.setGameState(S.GAMEOVER_LOSE)}return console.log(h>=e.levels[u]),h>=e.levels[u]&&(V=Object(l.jsxs)("div",{className:"round-win",children:[Object(l.jsxs)("p",{className:"round-win-message",children:["\ud83d\uddf9 Level ",u+1," Passed!"]}),Object(l.jsx)("button",{className:"advance-round-button",onClick:function(){z(e.timePerCard*e.levels[u+1]),O(0),a(!1),j(u+1),I(!1),console.log("You should advance the level here and go back to loading.")},children:"Continue"})]}),void 0===e.levels[u+1]&&(V=Object(l.jsxs)("div",{className:"match-win round-win",children:[Object(l.jsx)("p",{className:"round-win-message",children:"Congratulations!"}),Object(l.jsx)("p",{className:"round-win-subtext",children:"You beat the game. Impeccable memory!"}),Object(l.jsx)("button",{className:"end-game-button",onClick:e.setGameState.bind(null,S.MENU),children:"Return to Main Menu"})]}),function(){var e=document.querySelector(".confetti-canvas");e.classList.remove("no-display"),C.a.create(e,{resize:!0,useWorker:!0})({particleCount:100,spread:160})}())),Object(l.jsxs)("div",{className:"game-area",children:[Object(l.jsxs)("div",{className:"hud",children:[Object(l.jsxs)("p",{className:"current-level",children:["Lv. ",Object(l.jsx)("span",{className:"level",children:u+1})]}),Object(l.jsx)(N,{timeleft:T,endGame:W,playerWon:A}),Object(l.jsxs)("p",{className:"total-score",children:[Object(l.jsx)("span",{className:"point-counter",animation:B,children:e.currentScore})," pts."]})]}),Object(l.jsx)("div",{className:"cards",children:p}),V,Object(l.jsx)("canvas",{className:"confetti-canvas no-display"})]})};var E=function(e){return Object(l.jsxs)("div",{className:"game-over dialog-menu",children:[Object(l.jsx)("p",{children:"Game Over! Better luck next time!"}),Object(l.jsxs)("p",{children:["Your Score: ",e.currentScore]}),Object(l.jsx)("button",{className:"play-again",onClick:function(){e.resetCurrentScore(),e.setGameState(S.PLAYING)},children:"Play Again"}),Object(l.jsx)("button",{className:"go-to-menu",onClick:e.setGameState.bind(null,S.MENU),children:"Return to Main Menu"})]})};var w=function(){var e=Object(c.useState)([3,4,6,8,10]),t=Object(o.a)(e,2),n=t[0],r=(t[1],Object(c.useState)(S.MENU)),a=Object(o.a)(r,2),s=a[0],i=a[1],d=Object(c.useState)(5),j=Object(o.a)(d,2),m=j[0],b=j[1],h=Object(c.useState)(0),O=Object(o.a)(h,2),f=O[0],v=O[1],g=Object(c.useState)(0),p=Object(o.a)(g,2),x=p[0],y=p[1];function N(e){e.target.checked?b(3):b(5)}function C(){v(0)}return console.log("Current state:"+s),Object(c.useEffect)((function(){f>x&&y(f)}),[f]),Object(l.jsx)(l.Fragment,{children:function(){switch(s){case S.MENU:return Object(l.jsx)(u,{startGame:i.bind(null,S.PLAYING),toggleHardMode:N,timePerCard:m,highScore:x,resetCurrentScore:C});case S.PLAYING:return Object(l.jsx)(k,{levels:n,setGameState:i,timePerCard:m,currentScore:f,setCurrentScore:v});case S.GAMEOVER_LOSE:return Object(l.jsx)(E,{setGameState:i,currentScore:f,resetCurrentScore:C})}}()})};n(25);var L=function(){return Object(l.jsx)("footer",{class:"footer",children:Object(l.jsxs)("a",{className:"gh-link",href:"https://github.com/Datrinon/memorycards",children:[Object(l.jsx)("span",{className:"text",children:"View Source on Github."}),Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(l.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z",fill:"white"})})]})})};var M=function(){return Object(l.jsxs)(r.a.Fragment,{children:[Object(l.jsx)("main",{className:"App content",children:Object(l.jsx)(w,{})}),Object(l.jsx)(L,{})]})};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(M,{})}),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.b5ee75db.chunk.js.map